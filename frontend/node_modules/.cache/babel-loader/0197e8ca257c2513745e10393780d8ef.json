{"ast":null,"code":"import _defineProperty from\"F:\\\\super-market-react-app\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"F:\\\\super-market-react-app\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"F:\\\\super-market-react-app\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\super-market-react-app\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"F:\\\\super-market-react-app\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"F:\\\\super-market-react-app\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"F:\\\\super-market-react-app\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\super-market-react-app\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import api from'../../Apis';import{Redirect}from'react-router';import Breadcrumbs from'../../components/Breadcrumbs';import{Link}from\"react-router-dom\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleSubmit=function _callee(event){var _this$state,email,password,payload;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_this$state=_this.state,email=_this$state.email,password=_this$state.password;payload={email:email,password:password};alert(JSON.stringify(payload));api.UserLogin(payload).then(function(result){alert(JSON.stringify(result.data.token));console.log(JSON.stringify(result));localStorage.setItem('_id',result.data._id);localStorage.setItem('email',result.data.email);localStorage.setItem('token',result.data.token);localStorage.setItem('isAuthenticated',true);_this.setState({email:'',password:'',redirect:true});});case 5:case\"end\":return _context.stop();}}});};_this.state={isAuthenticated:false,email:'',password:'',message:'',redirect:false};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleInputChange\",value:function handleInputChange(event){var target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;this.setState(_defineProperty({},name,value));}},{key:\"render\",value:function render(){var redirect=this.state.redirect;if(redirect){return React.createElement(Redirect,{to:\"/profile\"});}return React.createElement(React.Fragment,null,React.createElement(Breadcrumbs,{page:\"Login\"}),React.createElement(\"div\",{className:\"login\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"h2\",null,\"Login Form\"),React.createElement(\"div\",{className:\"login-form-grids animated wow slideInUp\",\"data-wow-delay\":\".5s\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email Address\",required:\"\",value:this.state.email,onChange:this.handleInputChange}),React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",required:\"\",value:this.state.password,onChange:this.handleInputChange}),React.createElement(\"div\",{className:\"forgot\"},React.createElement(\"a\",{href:\"/\"},\"Forgot Password?\")),React.createElement(\"input\",{type:\"submit\",value:\"Login\"}))),React.createElement(\"h4\",null,\"For New People\"),React.createElement(\"p\",null,React.createElement(Link,{to:\"/register\"},\"Register Here\"),\" (Or) go back to \",React.createElement(Link,{to:\"/\"},\"Home\",React.createElement(\"span\",{className:\"glyphicon glyphicon-menu-right\",\"aria-hidden\":\"true\"}))))));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["F:/super-market-react-app/frontend/src/pages/Login/Login.js"],"names":["React","Component","api","Redirect","Breadcrumbs","Link","Login","props","handleSubmit","event","preventDefault","state","email","password","payload","alert","JSON","stringify","UserLogin","then","result","data","token","console","log","localStorage","setItem","_id","setState","redirect","isAuthenticated","message","handleInputChange","bind","target","value","type","checked","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport api from '../../Apis';\r\nimport { Redirect } from 'react-router';\r\nimport Breadcrumbs from '../../components/Breadcrumbs';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Login extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAuthenticated: false,\r\n      email: '',\r\n      password: '',\r\n      message: '',\r\n      redirect: false\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleInputChange(event) {\r\n    const target = event.target;\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    const payload = { email, password };\r\n    alert(JSON.stringify(payload));\r\n    api.UserLogin(payload).then(result => {\r\n      alert(JSON.stringify(result.data.token));\r\n      console.log(JSON.stringify(result));\r\n      localStorage.setItem('_id', result.data._id);\r\n      localStorage.setItem('email', result.data.email);\r\n      localStorage.setItem('token', result.data.token);\r\n      localStorage.setItem('isAuthenticated', true);\r\n      this.setState({\r\n        email: '',\r\n        password: '',\r\n        redirect: true\r\n      });\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { redirect } = this.state;\r\n\r\n    if (redirect) {\r\n      return <Redirect to='/profile' />;\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumbs page=\"Login\" />\r\n        <div className=\"login\">\r\n          <div className=\"container\">\r\n            <h2>Login Form</h2>\r\n\r\n            <div className=\"login-form-grids animated wow slideInUp\" data-wow-delay=\".5s\">\r\n              <form onSubmit={this.handleSubmit}>\r\n                <input type=\"email\" name=\"email\" placeholder=\"Email Address\" required=\"\" value={this.state.email}\r\n                  onChange={this.handleInputChange} />\r\n                <input type=\"password\" name=\"password\" placeholder=\"Password\" required=\"\" value={this.state.password}\r\n                  onChange={this.handleInputChange} />\r\n                <div className=\"forgot\">\r\n                  <a href=\"/\">Forgot Password?</a>\r\n                </div>\r\n                <input type=\"submit\" value=\"Login\" />\r\n              </form>\r\n            </div>\r\n            <h4>For New People</h4>\r\n            <p><Link to=\"/register\">Register Here</Link> (Or) go back to <Link to=\"/\">Home<span className=\"glyphicon glyphicon-menu-right\" aria-hidden=\"true\"></span></Link></p>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}